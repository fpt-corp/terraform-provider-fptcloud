---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fptcloud_load_balancer_v2_lb Resource - terraform-provider-fptcloud"
subcategory: ""
description: |-
  
---

# fptcloud_load_balancer_v2_lb (Resource)



## Example Usage

```terraform
resource "fptcloud_load_balancer_v2_lb" "example" {
  vpc_id = "<vpc_id>"
  name = "terraform_lb"
  description = "terraform_lb"
  floating_ip = null
  size = "Basic-1"
  network_id = "<network_id>"
  egw_id = "<egw_id>"
  listener {
    name = "Default listener"
    description = null
    protocol = "HTTP"
    protocol_port = "80"
  }
  pool {
    name = "Default server pool"
    protocol = "HTTP"
    algorithm = "ROUND_ROBIN"
    persistence_type = null
    pool_members {
      ip_address = "192.168.1.1"
      network_id = ""
      protocol_port = "80"
      weight = 1
      name = "external_member"
      is_external = true
      vm_id = ""
    }
    pool_members {
      ip_address = "172.20.36.221"
      network_id = "<network_id>"
      protocol_port = "80"
      weight = "1"
      name = "internal_member"
      is_external = false
      vm_id = "<vm_id>"
    }
    health_monitor {
      type = "HTTP"
      delay = "5"
      timeout = "5"
      max_retries = "3"
      max_retries_down = "3"
      http_method = "GET"
      url_path = "/"
      expected_codes = "200"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the load balancer
- `size` (String) The size ID of the load balancer
- `vpc_id` (String) The ID of the VPC which contains your load balancer
- `network_id` (String) The network ID of the load balancer (OSP platform)
- `listener` (Block Set) The listener of the load balancer (see [below for nested schema](#nestedblock--listener))
- `pool` (Block Set) The default server pool of the load balancer (see [below for nested schema](#nestedblock--pool))
- `egw_id` (String) The edge gateway ID of the load balancer (VMW platform)

### Optional

- `cidr` (String) The CIDR of the load balancer (VMW platform)
- `description` (String) The description of the load balancer
- `floating_ip` (String) The floating IP ID of the load balancer
- `vip_address` (String) The VIP address of the load balancer

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--listener"></a>
### Nested Schema for `listener`

Required:

- `name` (String) Name of the listener
- `protocol` (String) Supported listener protocols are: HTTP, TERMINATED_HTTPS, TCP, UDP
- `protocol_port` (String) Protocol port of the listener
- `certificate_id` (String) Certificate ID for the listener, required if listener protocol is TERMINATED_HTTPS

Optional:

- `description` (String) Listener description

<a id="nestedblock--pool"></a>
### Nested Schema for `pool`

Required:

- `algorithm` (String) The load balancing algorithm
- `health_monitor` (Block Set) (see [below for nested schema](#nestedblock--pool--health_monitor))
- `name` (String) Pool name
- `persistence_cookie_name` (String) Required if session persistence type is APP_COOKIE
- `protocol` (String) If listener protocol is TERMINATED_HTTPS then pool protocol is HTTP, else pool protocol is listener protocol

Optional:
- `persistence_type` (String) Supported session persistence types are APP_COOKIE, HTTP_COOKIE, SOURCE_IP
- `pool_members` (Block Set) (see [below for nested schema](#nestedblock--pool--pool_members))

<a id="nestedblock--pool--health_monitor"></a>
### Nested Schema for `pool.health_monitor`

Required:

- `delay` (String) The time between sending probes to server
- `expected_codes` (String) The list of HTTP status codes expected in response from the server to declare it healthy, required if type is HTTP or HTTPS
- `http_method` (String) HTTP method that the health monitor uses for requests, required if type is HTTP or HTTPS
- `max_retries` (String) The number of successful checks before changing the operating status of the member to ONLINE
- `max_retries_down` (String) The number of allowed check failures before changing the operating status of the member to ERROR
- `timeout` (String) The maximum time, in seconds, that a monitor waits to connect before it times out. This value must be less than the delay value. Must be less than delay
- `type` (String) Supported protocol health monitor types are: HTTP, HTTPS, PING, TCP
- `url_path` (String) URL path for health check request, required if type is HTTP or HTTPS

<a id="nestedblock--pool--pool_members"></a>
### Nested Schema for `pool.pool_members`

Required:

- `ip_address` (String) IP address of the member
- `is_external` (Boolean) Whether member is external or internal
- `name` (String) Name of the member
- `network_id` (String) ID of the network of the member, "" for external member
- `protocol_port` (Number) Protocol port of the member
- `vm_id` (String) ID of the internal VM member, "" for external member
- `weight` (Number) Weight of the member

## Import

```terraform
resource "fptcloud_load_balancer_v2_lb" "example" {
  vpc_id = "<vpc_id>"
  name = "terraform_lb"
  description = "terraform_lb"
  floating_ip = null
  size = "Basic-1"
  network_id = "<network_id>"
  egw_id = "<egw_id>"
  listener {
    name = "Default listener"
    description = null
    protocol = "HTTP"
    protocol_port = "80"
  }
  pool {
    name = "Default server pool"
    protocol = "HTTP"
    algorithm = "ROUND_ROBIN"
    persistence_type = null
    pool_members {
      ip_address = "192.168.1.1"
      network_id = ""
      protocol_port = "80"
      weight = 1
      name = "external_member"
      is_external = true
      vm_id = ""
    }
    pool_members {
      ip_address = "172.20.36.221"
      network_id = "<network_id>"
      protocol_port = "80"
      weight = "1"
      name = "internal_member"
      is_external = false
      vm_id = "<vm_id>"
    }
    health_monitor {
      type = "HTTP"
      delay = "5"
      timeout = "5"
      max_retries = "3"
      max_retries_down = "3"
      http_method = "GET"
      url_path = "/"
      expected_codes = "200"
    }
  }
}

import {
  id = "vpc/<vpc_id>/load_balancer/<load_balancer_id>"
  to = fptcloud_load_balancer_v2_lb.example
}
```