---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fptcloud_instance Resource - terraform-provider-fptcloud"
subcategory: ""
description: |-
  Provides a instance resource. This can be used to create, modify, and delete instances.
---

# fptcloud_instance (Resource)

Provides a instance resource. This can be used to create, modify, and delete instances.

## Example Usage

```terraform
# Create instance with SSH key
resource "fptcloud_instance" "example_01" {
  name              = "example-01"
  vpc_id            = "your_vpc_id"
  ssh_key           = "your_ssh_key"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
}

# Create instance with password
resource "fptcloud_instance" "example_02" {
  name              = "example-02"
  vpc_id            = "your_vpc_id"
  password          = "your_password"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
}

# Create instance with security group
resource "fptcloud_instance" "example_03" {
  name              = "example-03"
  vpc_id            = "your_vpc_id"
  password          = "your_password"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
  security_group_ids = ["your_security_group_id"]
}

# Create instance with instance group
resource "fptcloud_instance" "example_04" {
  name              = "example-04"
  vpc_id            = "your_vpc_id"
  password          = "your_password"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
  instance_group_id = "your_instance_group_id"
}

# Update instance with VM Action - Reboot the instance
resource "fptcloud_instance" "example_05" {
  name              = "example-05"
  vpc_id            = "your_vpc_id"
  ssh_key           = "your_ssh_key"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
  vm_action {
    type = "REBOOT"
  }
}

# Update instance with Snapshot Action - Create a snapshot
resource "fptcloud_instance" "example_06" {
  name              = "example-06"
  vpc_id            = "your_vpc_id"
  password          = "your_password"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
  instance_group_id = "your_instance_group_id"
  snapshot_action {
    type        = "CREATE"
    include_ram = true
  }
}

# Update instance with Template Action - Create a template
resource "fptcloud_instance" "example_07" {
  name              = "example-07"
  vpc_id            = "your_vpc_id"
  password          = "your_password"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
  instance_group_id = "your_instance_group_id"
  template_action {
    type        = "CREATE"
    name        = "template2"
    description = "desc template 2"
  }
}

# Update instance with Resize Config
resource "fptcloud_instance" "example_08" {
  name              = "example-08"
  vpc_id            = "your_vpc_id"
  password          = "your_password"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
  instance_group_id = "your_instance_group_id"
  resize_config {
    increase_in_size_mb = 49008
    disk_id = 2000
    name = "Root-storage"
    storage_policy_id = "68889523-6243-4bd6-8434-85beecbf366d"
  }
}

# Update instance with reset password and block deletion
resource "fptcloud_instance" "example_09" {
  name              = "example-09"
  vpc_id            = "your_vpc_id"
  password          = "your_password"
  image_name        = "UBUNTU-20.04-04072024"
  flavor_name       = "2C2G"
  subnet_id         = "your_subnet_id"
  storage_size_gb   = 60
  storage_policy_id = "your_policy_id"
  status            = "POWERED_ON"
  reset_password    = true
  block_deletion    = true
}

```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `image_name` (String) The image name of the instance (get from API or data source)
- `name` (String) The name of the instance
- `status` (String) The status of the instance (`POWERED_ON` or `POWERED_OFF`)
- `storage_policy_id` (String) The root storage policy of the instance
- `storage_size_gb` (Number) The root storage size of the instance
- `subnet_id` (String) The subnet id of the instance
- `vpc_id` (String) The vpc id of the instance

### Optional

- `flavor_name` (String) The flavor name of the instance (get from API or data source)
- `instance_group_id` (String) The instance group id of the instance
- `password` (String) The password of the instance
- `private_ip` (String) The private ip of the instance.
- `public_ip` (String) The public ip (floating ip) of the instance.
- `security_group_ids` (List of String) The security group associated with the instance
- `ssh_key` (String) The ssh key of the instance
- `reset_password` (Boolean) The reset password of the instance
- `block_deletion` (Boolean) The block deletion of the instance
- `vm_action` (Block List, Max: 1) VM action configuration (see [below for nested schema](#nestedblock--vm_action))
- `snapshot_action` (Block List, Max: 1) Snapshot action configuration (see [below for nested schema](#nestedblock--snapshot_action))
- `template_action` (Block List, Max: 1) Template action configuration (see [below for nested schema](#nestedblock--template_action))
- `resize_config` (Block List, Max: 1) Configuration for resizing disk (see [below for nested schema](#nestedblock--resize_config))

### Read-Only

- `created_at` (String) The created at of the security group
- `id` (String) The id of the instance

<a id="nestedblock--vm_action"></a>
### Nested Schema for `vm_action`

Required:

- `type` (String) Type of VM action. Valid values: `REBOOT`, `POWER_ON`, `POWER_OFF`, `SUSPEND`, `RESET`

<a id="nestedblock--snapshot_action"></a>
### Nested Schema for `snapshot_action`

Required:

- `type` (String) Type of snapshot action. Valid values: `CREATE`, `DELETE`, `UPDATE`

Optional:

- `include_ram` (Boolean) Whether to include RAM in the snapshot

<a id="nestedblock--template_action"></a>
### Nested Schema for `template_action`

Required:

- `type` (String) Type of template action. Valid values: `CREATE`

Optional:

- `name` (String) Name of the template
- `description` (String) Description of the template

<a id="nestedblock--resize_config"></a>
### Nested Schema for `resize_config`

Required:

- `disk_id` (Number) The disk ID to resize
- `increase_in_size_mb` (Number) The increase in size in MB
- `name` (String) The name of the disk
- `storage_policy_id` (String) The storage policy ID for the disk
